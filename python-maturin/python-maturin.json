{
  "name": "python-maturin",
  "buildsystem": "simple",
  "build-options": {
    "env": {
      "CARGO_HOME": "/run/build/python-maturin/cargo",
      "RUSTFLAGS": "-L /app/lib/"
    }
  },
  "build-commands": [
    "cargo --offline fetch --manifest-path Cargo.toml --verbose",
    "cargo --offline build --release --verbose",
    "install -Dm755 target/release/maturin -t ${FLATPAK_DEST}/bin",
    "install -Dm644 maturin/__init__.py -t ${FLATPAK_DEST}/lib/python$(python -c 'import sys; print(\"%s.%s\" %sys.version_info[0:2])')/site-packages/maturin/"
  ],
  "sources": [
    "generated-sources.json",
    {
      "type": "archive",
      "url": "https://github.com/PyO3/maturin/archive/v1.2.3.tar.gz",
      "sha256": "61e119a3d9b8f8083b7765236bc52afe779a0c2ae8c3aebc9e52d36560733772"
    }
  ],
  "cleanup": [
    "*"
  ],
  "modules": [
    "python3-setuptools-rust.json"
  ]
}
